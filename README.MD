##Tandava Framework
MVC архитектура
Грубо говоря, это даже не фреймворк, а заготовка под ваши проекты.
В нем есть все самое необходимое, без чего-то лишнего.
Подключен **Twig**,  **Composer**, свой собственный **QueryBuilder**,  маршрутизатор, и логгер

**Содержание**
[1. Маршрутизатор](#маршрутизатор "1. Маршрутизатор")
[2. Sql Builder](#sql-builder "2. Sql Builder")
[3. Папка Public](#папка-public "3. Папка Public")
[4. Класс View](#класс-view "3. Класс View")

###Маршрутизатор

####Теория
Что такое маршрутизатор? Все запросы, которые идут на сервер, обрабатываются файлом **index.php**. Он вытаскивает путь запроса пользователя, и находит маршруты, которые соответствуют пути. После, он обрабатывает функцию, которая записана в маршруте. Возвращаемое значение этой функции, он выводит на экран.

####Документация
Маршруты нужно указывать в файле **app/components/Routes.php**, через экземпляр класса в переменной **$router**

```php
$router->Request("/product/([0-9]*)", "products@list");
$router->Request("/products/(.*)/([0-9]*)", function ($category, $page) {
	return "Ваша категория: " . $category . "<br>Ваша страница: " . $page;
});

$router->Get("/home/", function ($getData) {
	return "Ваш первый GET параметр -- " . array_shift($getData) ;
});

$router->Post("/", "handler@handler");

$router->Error(404, function () {
	return "Страница не найдена";
});
```

Есть несколько вариантов записи функции, которая вызовется, если пользователь зайдет по этому маршруту. Первый, самый простой, это **анонимная функция**.
```php
$router->Request("/", function () {
	return "Hello World";
}); // выведет на экран Hello World
```

Вторым вариантом является указание пути к классу,  к функции, которую должен обработать скрипт. Путь записывается таким образом: **класс@функция**. Так, например, если указать **main**@**function**, то он вызовет класс **ControllerMain**, и функцию **ActionFunction**.
(**P.S, класс должен находиться в файле /app/controller/Имя класса.php**)

Если ваша функция возвратит текст, первым символом которого является **@**, то вызовется номер ошибки, который будет указан после первого символа. Т.е:

```php
$router->Request("/", function () {
	return "@403";
});

$router->Error(403, function () {
	return "Нет прав";
});
```

####Список методов
```php
$router->Get("/", function ($getData) {}); // вызовется в случае, если будет хоть один GET параметр. Передаст функции первым аргументом массив, содержащий все GET параметры.

$router->Post("/", function ($postData) {}); // вызовется в случае, е.сли будет хоть один POST параметр. Передаст функции первым аргументом массив, содержащий все GET параметры.

$router->Request("/", function() {}); // вызовется в любом случае. В первом аргументе (где указывается путь), можно использовать регулярные выражения

$router->Run(); // запускает маршрутизатор
```

###Sql Builder
В библиотеку встроен SqlBuilder. Что это такое? 
Вы открываете файл **/app/config/config.ini**, и настраиваете подключение к базе данных. После чего, вы можете свободно использовать функции билдера.

```php
Sql::Select()->From("users")->Where("id", 1)->Where("messages", ">=", 1)->Where("login", "LIKE", "%lolicon%")->Exec(); // Возвращает массив с результатами

Sql::Insert(["id" => 2, "login" => "lolicon"])->From("users")->Exec(); // создаем юзера в таблице

Sql::Update(["login" => "lolicon2"])->From("users")->Where("id", 1)->Exec(); // обновляем логин у юзера

Sql::Delete()->From("users")->Where("id", 1)->Exec(); // удаляем пользователя из таблицы
```

Как вы уже заметили, в методе Where, можно указывать параметр 2 аргументом, а значение третим. Или, указывать значение вторым аргументом, опуская указание оператора (в таком случае, применится оператор **=**)

###Папка Public
В проекте существует папка public.
Если в нее положить какой-то файл, то он станет доступным для чтения через адресную строку.
Например, если в нее положить файл **image.jpg**, то он станет доступным для просмотра, по адресу **/image.jpg**

###Класс View
Этот класс предназначен для работы с Twig. Вот его методы:

```php
class View {
	/**
	* Получает содержимое папки /app/view/$file.twig, и возвращает его. 
	*/
	public function File(string $file, array $args = [], string $extension = ""): string

    /**
     * Устанавливает стандартное расширение для открываемого файла
     */
    public function SetExtension(string $extension): void
}
```

Пример его работы:

**Файл "/app/view/hello.twig"**
```html
<p>
Hello, {{ user }}
</p>
```

**Файл "/app/controller/ControllerTest.php"**
```php
class ControllerTest extends \Tandava\View
{
	public function ActionHello($userName)
	{
		return $this->File("hello", ["user" => $userName]);
	}
}
```

**Файл "/app/components/Routes.php"**
```php
$router->Request("/user/(.*)", "test@hello");
```